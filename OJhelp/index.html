<!DOCTYPE html>
<html lang="zh-tw">
	<head>
		<meta charset="UTF-8">
		<title>ET01_web</title>
		<link id="style_css" rel="stylesheet" type="text/css" href="/TEMP/temp.css"> 
	</head>


	<body>
		<meta charset="UTF-8">
		<script src="/TEMP/temp.js"></script>
		<header id="top"></header>

		<!--內文here-->
		<div class="x_center">
			<div style="
				display: flex;
				justify-content: center;
				align-items: center;
				flex-direction: column;
				width:100%;
			">
				<h1 style="color: #fff;">OJ求解</h1>
				<p>
					把題目連結貼在這邊，不久後，可能就會出現在<a href="/OJ_ans">這裡</a><br>
					p.s. 解題者的CF rating大約是1400，請勿貼過難的題目，不然你永遠得不到解答
				</p>
				<textarea 
					placeholder="題目名稱，不含題號" 
					type="text" 
					name="q" 
					id="q"
					style="
						width: 70%;
						height: 50px;
				"></textarea>
				<textarea 
					placeholder="題目連結" 
					type="text" 
					name="q" 
					id="linke"
					style="
						width: 70%;
						height: 50px;
				"></textarea>
				<input type="button" onclick="myFunction()" value="送出" style="width: 100px;height: 50px;">
				<p style="color: #fff;">參考自<a href="https://wakeye.reflec5.repl.co/feed_back.html">https://wakeye.reflec5.repl.co/feed_back.html</a></p>
				<script>
					function myFunction(){
						var hookURL="https://discordapp.com/api/webhooks/1164404589186007123/bTGRZ-4TJjG4ICy-Qf0tIqWCbJ5DrT5sLjgjpD0TevdRZFkloEizZMuCBRLiIJjcqbNA";
						var request=new XMLHttpRequest();
						var little_loli="https://avatars.githubusercontent.com/u/66681962";
						request.open("POST",hookURL);
						//設定傳送型態為json
						request.setRequestHeader('Content-type', 'application/json');
						//獲取輸入內容
						var pid=document.getElementById("q").value;
						var pURL=document.getElementById("linke").value;
						//設定傳到DC的內容
						var myEmbed = [{
							"author": {
								"name": pid,
								"url": pURL,
								"icon_url": little_loli
							},
							//"title": "求解",
							//"description": "["+pid+"]("+pURL+")",//
							"color": 16755404
						}];
						var params = {
							username: "小ㄌㄌ",//bot名稱
							embeds: myEmbed,//傳送內容
							avatar_url: little_loli,//頭像
							thread_name: pid,//貼文名
							content:""
						};
						request.send(JSON.stringify(params));


						hookURL="https://discordapp.com/api/webhooks/1164406327372681307/pm33I2tFKDBGz5sjKeKYeXdsXrl8vXTNKsMe5lGLJtAyd12qNOSrZY8KPwc1hIzkQ7et";
						request=new XMLHttpRequest();
						request.open("POST",hookURL);
						request.setRequestHeader('Content-type', 'application/json');
						params={
							username: "小ㄌㄌ",//bot名稱
							embeds: myEmbed,//傳送內容
							avatar_url: little_loli,//頭像
							//thread_name: pid,//貼文名
							content:""
						};
						request.send(JSON.stringify(params));

						alert("已送出，感謝您撥空填寫");
						//window.location.href=window.location.search;
					}
					/*
					How to use Webhook
					var myEmbed = [{
							{
									"title": "",//大標題
									"description": "",//簡述(標題下方)
									"color": 16711680,
									"footer": {//最下方小圖
										"text": "",
										"icon_url": ""
									},
									"author": {
										"name": "",//上方作者信息
										"icon_url": ""
     								"url": "https://AutherURL.com",//作者連結
									},
									"fields": [//內文
										{
											"name": "ewge",
											"value": "ghn f",
											"inline": true
										}
									],
									"footer": {
										"text": "little_loli",//最下方資訊
										"icon_url": "https://avatars.githubusercontent.com/u/66681962"
									},
									"thumbnail": {
										"url": ""//左方大圖的縮圖
									}
									"image": {//內文大圖
										"url": "https://avatars.githubusercontent.com/u/66681962"
									},
								}
							],
							"content": "單純訊息"
						}];
					*/
				</script>
			</div>

		</div>
	</body>
</html>
